import{r as n,j as e}from"./index-f1FgfK4i.js";const v=({src:s,alt:c,className:r,style:d,autoPlay:u=!0,loop:x=!0,muted:f=!0,playsInline:h=!0})=>{const[i,t]=n.useState(!0),m=s.endsWith(".mp4")||s.endsWith(".webm")||s.endsWith(".ogg"),o=n.useRef(),[l,g]=n.useState(!1);return n.useEffect(()=>{const a=new IntersectionObserver(([j])=>{j.isIntersecting&&(g(!0),a.disconnect())},{rootMargin:"100px",threshold:.1});return o.current&&a.observe(o.current),()=>{a.disconnect()}},[]),e.jsxs(e.Fragment,{children:[!l&&e.jsx("div",{ref:o}),l&&e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:r+" flex !h-[300px]",style:d,children:e.jsx("div",{role:"status",className:"w-5 my-auto mx-auto h-full flex justify-center align-middle animate-ping duration-500",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})}),m?e.jsx("video",{src:s,className:`${r} ${i?"hidden":""}`,onLoadedData:()=>t(!1),onError:()=>t(!1),autoPlay:u,loop:x,muted:f,playsInline:h,preload:"none",style:d}):e.jsx("img",{src:s,alt:c,className:`${r} ${i?"hidden":""}`,loading:"lazy",onLoad:()=>t(!1),onError:()=>t(!1)})]})]})};export{v as M};
