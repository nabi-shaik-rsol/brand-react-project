import{R as b,r as c,j as o}from"./index-DU8Mf67a.js";import{M as R}from"./MediaWithLoader-Bwpf2pTF.js";import{e as S}from"./eyeVideo-BPMbycd7.js";const B=b.memo(()=>{const p=c.useRef(null),[m,L]=c.useState(!1),[z,M]=c.useState(!1);c.useEffect(()=>{const e=document.querySelector(".banner-svg");if(!e)return;const t=Array.from(e.querySelectorAll("*")),a=2500,d=45;let l=!1;const v=[];let s=[];const x=t.map(()=>({tx:Math.round((Math.random()-.5)*500),ty:Math.round((Math.random()-.5)*500),r:Math.round((Math.random()-.5)*720)})),j=(r,n)=>{const{tx:i,ty:u,r:y}=x[n],h=[{transform:"translate(0px, 0px) rotate(0deg) scale(1)",opacity:1},{transform:`translate(${i}px, ${u}px) rotate(${y}deg) scale(0)`,opacity:0}];return r.animate(h,{duration:a,delay:n*d,fill:"forwards",easing:"cubic-bezier(.11,0,.5,0)"})},$=(r,n)=>{const{tx:i,ty:u,r:y}=x[n],h=[{transform:`translate(${i}px, ${u}px) rotate(${y}deg) scale(0)`,opacity:0},{transform:"translate(0px, 0px) rotate(0deg) scale(1)",opacity:1}];return r.animate(h,{duration:a,delay:n*d,fill:"forwards",easing:"cubic-bezier(.11,0,.5,0)"})};async function w(){if(l)return;s=t.map((n,i)=>{try{return j(n,i)}catch{return null}}).filter(Boolean);try{await Promise.all(s.map(n=>n.finished))}catch{}if(l)return;s=t.map((n,i)=>{try{return $(n,i)}catch{return null}}).filter(Boolean);try{await Promise.all(s.map(n=>n.finished))}catch{}if(l)return;const r=setTimeout(()=>{l||w()},3e3);v.push(r)}w();const g=()=>s.forEach(r=>{try{r.playbackRate=.2}catch{}}),E=()=>s.forEach(r=>{try{r.playbackRate=1}catch{}});return e.addEventListener("mouseenter",g),e.addEventListener("mouseleave",E),()=>{l=!0,e.removeEventListener("mouseenter",g),e.removeEventListener("mouseleave",E),v.forEach(r=>clearTimeout(r)),s.forEach(r=>{try{r.cancel()}catch{}})}},[]),c.useEffect(()=>{const e=()=>{try{const a=document.querySelector("#targetText");if(a&&!a.dataset.animated){const d=a.getBoundingClientRect(),l=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);d.top<l&&d.bottom>0&&(a.querySelectorAll("span").forEach((s,x)=>{s.style.opacity="0",s.style.animation=`fade-in 2s ${x*.6}s forwards cubic-bezier(0.11, 0, 0.5, 0)`}),a.dataset.animated="1")}}catch{}};window.addEventListener("scroll",e),window.addEventListener("load",e),window.addEventListener("resize",e),e();const t=setTimeout(e,350);return()=>{window.removeEventListener("scroll",e),window.removeEventListener("load",e),window.removeEventListener("resize",e),clearTimeout(t)}},[]);const f="Insight. Inspiration. Innovation".split("");return c.useEffect(()=>{const e=()=>{if(!p.current||m)return;const a=p.current.getBoundingClientRect();a.top<window.innerHeight*.85&&a.bottom>0&&(L(!0),window.removeEventListener("scroll",t,{passive:!0}),window.removeEventListener("resize",t))},t=()=>{requestAnimationFrame(e)};return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t),e(),()=>{window.removeEventListener("scroll",t,{passive:!0}),window.removeEventListener("resize",t)}},[m]),c.useEffect(()=>{if(!m)return;const e=f.length*.1+.5,t=setTimeout(()=>M(!0),e*1e3);return()=>clearTimeout(t)},[m,f.length]),o.jsx("div",{className:"relative  w-full h-screen min-h-dvh pt-20  bg-[#000000] overflow-hidden",children:o.jsxs("div",{className:"relative z-50 w-full h-full flex flex-col justify-center items-center text-white",children:[o.jsx(R,{className:"w-full",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controls:!1,preload:"none",src:S,type:"video/mp4"}),o.jsx("div",{className:"min-w-full min-h-[calc(100%+80px)] absolute bg-[#000000a7] -top-20 z-10"}),z?o.jsx("div",{className:`z-[60] absolute fadeInOpacity
            4xl:text-[85px] 3xl:text-[70px] 2xl:text-[40px] xl:text-[30px] 
            lg:text-[25px] md:text-[35px] sm:text-[20px] 
            top-[calc(90%-40px)] 4xl:left-[25%] 3xl:left-[22%] 2xl:left-[8%] 
            xl:left-[8%] lg:left-[20%] md:left-[18%]`,style:{fontFamily:"PoppinsSemiBold"},children:f.map((e,t)=>o.jsx("span",{style:{animationDelay:`${t*.1}s`},children:e===" "?" ":e},t))}):o.jsx("div",{ref:p,className:`animatetext z-[60] absolute 
            4xl:text-[85px] 3xl:text-[70px] 2xl:text-[60px] xl:text-[50px] 
            lg:text-[40px] md:text-[35px] sm:text-[20px] 
            top-[calc(33%-40px)] 4xl:left-[25%] 3xl:left-[22%] 2xl:left-[25%] 
            xl:left-[22%] lg:left-[20%] md:left-[18%] ${m?"seven":""}`,style:{fontFamily:"PoppinsSemiBold"},children:f.map((e,t)=>o.jsx("span",{style:{animationDelay:`${t*.1}s`},children:e===" "?" ":e},t))})]})})}),D=b.memo(B);export{D as default};
